<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="OrderItemMapper">

	<insert id="itemOrderDone" parameterType="OrderItemDTO">
		<selectKey keyProperty="OrderInfo_Code" resultType="int" order="BEFORE">
			select orderinfo_seq.currval from dual
		</selectKey>
		insert into orderitem (OrderItem_Code,Item_Code,OrderInfo_Code,Member_Code,Order_Name,Cart_Amount,
		Item_Price,Item_Image,Item_Name,Cart_Size,Cart_Color,Cart_Taste)
		values (orderItem_seq.nextval,#{Item_Code},#{OrderInfo_Code},#{Member_Code},#{Order_Name},
		#{Cart_Amount},#{Item_Price},#{Item_Image},#{Item_Name},#{Cart_Size},#{Cart_Color},#{Cart_Taste})
	</insert>
	
	
	<select id="selByCode" resultType="OrderItemDTO" parameterType="int">
		select OrderItem_Code,Item_Code,OrderInfo_Code,Member_Code,Order_Name,Cart_Amount,Item_Price,
		Item_Image,Item_Name,Cart_Size,Cart_Color,Cart_Taste
		from orderitem
		where OrderInfo_Code=#{OrderInfo_Code}
	
	</select>
</mapper>